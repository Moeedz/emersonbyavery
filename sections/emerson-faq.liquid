{% comment %}EMERSON BY AVERY — FAQ{% endcomment %}
{{ 'section-emerson-faq.css' | asset_url | stylesheet_tag }}
{{ 'emerson-animations.css' | asset_url | stylesheet_tag }}

{%- style -%}
#emerson-faq-{{ section.id }} {
  --section-padding-top: {{ section.settings.padding_top }}px;
  --section-padding-bottom: {{ section.settings.padding_bottom }}px;
  --section-padding-top-mobile: {{ section.settings.padding_top_mobile }}px;
  --section-padding-bottom-mobile: {{ section.settings.padding_bottom_mobile }}px;
  --section-max-width: {{ section.settings.section_max_width }}px;
  --section-bg: {{ section.settings.bg_color }};
  --tag-color: {{ section.settings.tag_color }};
  --tag-size: {{ section.settings.tag_size }}px;
  --heading-color: {{ section.settings.heading_color }};
  --heading-size-desktop: {{ section.settings.heading_size_desktop }}px;
  --heading-size-mobile: {{ section.settings.heading_size_mobile }}px;
  --item-bg: {{ section.settings.item_bg_color }};
  --item-border-radius: {{ section.settings.item_border_radius }}px;
  --question-color: {{ section.settings.question_color }};
  --question-size: {{ section.settings.question_size }}px;
  --answer-color: {{ section.settings.answer_color }};
  --answer-size: {{ section.settings.answer_size }}px;
  --icon-color: {{ section.settings.icon_color }};
  --item-gap: {{ section.settings.item_gap }}px;
  --item-padding: {{ section.settings.item_padding }}px;
}
{%- endstyle -%}

<section id="emerson-faq-{{ section.id }}" class="emerson-faq">
  <div class="emerson-faq__container">
    <div class="emerson-section-header" style="text-align: {{ section.settings.header_alignment }};">
      {%- if section.settings.tag != blank -%}<span class="emerson-section-tag">{{ section.settings.tag }}</span>{%- endif -%}
      {%- if section.settings.heading != blank -%}<h2 class="emerson-section-title">{{ section.settings.heading }}</h2>{%- endif -%}
    </div>
    <div class="emerson-faq__list">
      {%- for block in section.blocks -%}
        {%- case block.type -%}
          {%- when 'faq_item' -%}
            <details class="emerson-faq__item" {{ block.shopify_attributes }}>
              <summary class="emerson-faq__question">
                <span>{{ block.settings.question }}</span>
                <svg class="emerson-faq__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
              </summary>
              <div class="emerson-faq__answer">{{ block.settings.answer }}</div>
            </details>
        {%- endcase -%}
      {%- endfor -%}
    </div>
    {%- if section.settings.show_contact and section.settings.contact_text != blank -%}
    <div class="emerson-faq__contact">
      <p>{{ section.settings.contact_text }}</p>
      {%- if section.settings.contact_link != blank -%}<a href="{{ section.settings.contact_link }}" class="emerson-btn emerson-btn--secondary">{{ section.settings.contact_btn_text }}</a>{%- endif -%}
    </div>
    {%- endif -%}
  </div>
</section>

{% schema %}
{
  "name": "❓ FAQ",
  "tag": "section",
  "class": "section-emerson-faq",
  "settings": [
    {"type":"header","content":"Layout"},
    {"type":"range","id":"section_max_width","label":"Max width","min":600,"max":1000,"step":100,"default":800,"unit":"px"},
    {"type":"header","content":"Padding"},
    {"type":"range","id":"padding_top","label":"Top — Desktop","min":0,"max":200,"step":10,"default":80,"unit":"px"},
    {"type":"range","id":"padding_bottom","label":"Bottom — Desktop","min":0,"max":200,"step":10,"default":80,"unit":"px"},
    {"type":"range","id":"padding_top_mobile","label":"Top — Mobile","min":0,"max":100,"step":10,"default":60,"unit":"px"},
    {"type":"range","id":"padding_bottom_mobile","label":"Bottom — Mobile","min":0,"max":100,"step":10,"default":60,"unit":"px"},
    {"type":"header","content":"Colors"},
    {"type":"color","id":"bg_color","label":"Background","default":"#FFFFFF"},
    {"type":"color","id":"item_bg_color","label":"Item bg","default":"#FDF9F6"},
    {"type":"color","id":"question_color","label":"Question","default":"#1F1A14"},
    {"type":"color","id":"answer_color","label":"Answer","default":"#756758"},
    {"type":"color","id":"icon_color","label":"Icon","default":"#E85D75"},
    {"type":"header","content":"Header"},
    {"type":"select","id":"header_alignment","label":"Alignment","options":[{"value":"left","label":"Left"},{"value":"center","label":"Center"}],"default":"center"},
    {"type":"text","id":"tag","label":"Tag","default":"Help"},
    {"type":"color","id":"tag_color","label":"Tag color","default":"#E85D75"},
    {"type":"range","id":"tag_size","label":"Tag size","min":16,"max":32,"step":2,"default":22,"unit":"px"},
    {"type":"text","id":"heading","label":"Heading","default":"FAQ"},
    {"type":"color","id":"heading_color","label":"Heading color","default":"#1F1A14"},
    {"type":"range","id":"heading_size_desktop","label":"Heading — Desktop","min":28,"max":72,"step":4,"default":48,"unit":"px"},
    {"type":"range","id":"heading_size_mobile","label":"Heading — Mobile","min":24,"max":48,"step":4,"default":32,"unit":"px"},
    {"type":"header","content":"Items"},
    {"type":"range","id":"item_border_radius","label":"Radius","min":0,"max":24,"step":4,"default":16,"unit":"px"},
    {"type":"range","id":"item_padding","label":"Padding","min":16,"max":32,"step":4,"default":24,"unit":"px"},
    {"type":"range","id":"item_gap","label":"Gap","min":8,"max":24,"step":4,"default":12,"unit":"px"},
    {"type":"range","id":"question_size","label":"Question size","min":14,"max":20,"step":1,"default":16,"unit":"px"},
    {"type":"range","id":"answer_size","label":"Answer size","min":14,"max":18,"step":1,"default":15,"unit":"px"},
    {"type":"header","content":"Contact"},
    {"type":"checkbox","id":"show_contact","label":"Show contact","default":true},
    {"type":"text","id":"contact_text","label":"Text","default":"Still have questions?"},
    {"type":"text","id":"contact_btn_text","label":"Button","default":"Contact Us"},
    {"type":"url","id":"contact_link","label":"Link"}
  ],
  "blocks":[
    {"type":"faq_item","name":"FAQ Item","settings":[
      {"type":"text","id":"question","label":"Question","default":"What materials are used?"},
      {"type":"richtext","id":"answer","label":"Answer","default":"<p>Premium cotton and eco-friendly inks.</p>"}
    ]}
  ],
  "presets":[{"name":"❓ FAQ","blocks":[
    {"type":"faq_item","settings":{"question":"What materials are used?","answer":"<p>Premium cotton and eco-friendly inks.</p>"}},
    {"type":"faq_item","settings":{"question":"How long does shipping take?","answer":"<p>5-7 business days.</p>"}},
    {"type":"faq_item","settings":{"question":"Can I return or exchange?","answer":"<p>Yes! 30-day returns.</p>"}}
  ]}]
}
{% endschema %}
